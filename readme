javascript game which teaches you javascript,  without you having to know that you are learning

test driven mentality
prototypal inheritance
functional programming
client/server web technologies perhaps